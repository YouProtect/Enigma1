<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VideoCall - P2P –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∏</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <header class="header">
        <div class="header-content">
            <h1 class="logo">üìû Enigma</h1>
            <div class="header-info">
                <span id="connectionStatus">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</span>
                <span id="userCount">–£—á–∞—Å—Ç–Ω–∏–∫–∏: 0/10</span>
                <span id="roomIdDisplay"></span>
            </div>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="main">
        <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –∫–æ–º–Ω–∞—Ç—ã -->
        <div class="room-selection" id="roomSelection">
            <div class="room-card">
                <h2>üéØ –°–æ–∑–¥–∞—Ç—å –∏–ª–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∑–≤–æ–Ω–∫—É</h2>
                <div class="input-group">
                    <input type="text" id="roomIdInput" placeholder="ID –∫–æ–º–Ω–∞—Ç—ã">
                    <input type="text" id="userNameInput" placeholder="–í–∞—à–µ –∏–º—è" value="–£—á–∞—Å—Ç–Ω–∏–∫">
                </div>
                <div class="button-group">
                    <button id="createRoomBtn" class="btn primary">üëë –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
                    <button id="joinRoomBtn" class="btn secondary">‚úÖ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
                </div>
            </div>
        </div>

        <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–≤–æ–Ω–∫–∞ -->
        <div class="call-interface hidden" id="callInterface">
            <div class="call-layout">
                <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –≤–∏–¥–µ–æ –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
                <div class="video-section">
                    <!-- –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞/–∞–¥–º–∏–Ω–∞) -->
                    <div class="admin-panel hidden" id="adminPanel">
                        <h3>üëë –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h3>
                        <div class="admin-controls">
                            <button id="muteAllBtn" class="admin-btn">üîá –ü—Ä–∏–≥–ª—É—à–∏—Ç—å –≤—Å–µ—Ö</button>
                            <button id="promoteAdminBtn" class="admin-btn">‚≠ê –ù–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–∞</button>
                            <button id="lockRoomBtn" class="admin-btn">üîí –ó–∞–∫—Ä—ã—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
                        </div>
                    </div>

                    <!-- –í–∏–¥–µ–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
                    <div class="video-container" id="videoContainer">
                        <div class="local-video-wrapper">
                            <video id="localVideo" autoplay muted playsinline></video>
                            <div class="video-label">–í—ã</div>
                        </div>
                        <!-- –°—é–¥–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤–∏–¥–µ–æ –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ -->
                    </div>
                    
                    <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                    <div class="control-panel">
                        <button id="toggleMic" class="control-btn active" title="–ú–∏–∫—Ä–æ—Ñ–æ–Ω">üé§</button>
                        <button id="toggleCamera" class="control-btn active" title="–ö–∞–º–µ—Ä–∞">üìπ</button>
                        <button id="shareScreen" class="control-btn" title="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞">üñ•Ô∏è</button>
                        <button id="settingsBtn" class="control-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
                        <button id="hangupBtn" class="control-btn danger" title="–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫">‚èπÔ∏è</button>
                    </div>
                </div>

                <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∏ —á–∞—Ç -->
                <div class="sidebar">
                    <!-- –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ -->
                    <aside class="user-list">
                        <h3>–£—á–∞—Å—Ç–Ω–∏–∫–∏ <span id="usersCount">(0)</span></h3>
                        <div class="users-container" id="usersContainer">
                            <!-- –°—é–¥–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —É—á–∞—Å—Ç–Ω–∏–∫–∏ -->
                        </div>
                    </aside>

                    <!-- –ß–ê–¢ -->
                    <div class="chat-container" id="chatContainer">
                        <div class="chat-header">
                            <h3>üí¨ –ß–∞—Ç</h3>
                            <button id="toggleChatBtn" class="chat-toggle">‚àí</button>
                        </div>
                        <div class="chat-messages" id="chatMessages">
                            <!-- –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞ -->
                            <div class="chat-welcome">
                                üí° –ß–∞—Ç –∑–∞—â–∏—â–µ–Ω —Å–∫–≤–æ–∑–Ω—ã–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <input type="text" id="chatInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                            <button id="sendMessageBtn">üì®</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="settingsModal" class="modal hidden">
        <div class="modal-content">
            <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤</h2>
            <div class="setting-group">
                <label>–ö–∞–º–µ—Ä–∞:</label>
                <select id="cameraSelect"></select>
            </div>
            <div class="setting-group">
                <label>–ú–∏–∫—Ä–æ—Ñ–æ–Ω:</label>
                <select id="micSelect"></select>
            </div>
            <button id="closeSettings" class="modal-close">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞ -->
    <div id="promoteModal" class="modal hidden">
        <div class="modal-content">
            <h2>‚≠ê –ù–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
            <div class="user-list-modal" id="userListModal">
                <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è -->
            </div>
            <button id="closePromoteModal" class="modal-close">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>